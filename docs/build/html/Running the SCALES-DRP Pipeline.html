

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Running the SCALES-DRP Pipeline &mdash; SCALES-DRP 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Primitives" href="Primitives.html" />
    <link rel="prev" title="Configuration Parameters" href="Configuration%20Parameters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SCALES-DRP
              <img src="_static/logo1.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Quick%20Start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="Configuration%20Parameters.html">Configuration Parameters</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running the <strong>SCALES-DRP</strong> Pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#process-files-file-lists-and-entire-directories">Process files, file lists and entire directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-command-line-options">Other command line options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Primitives.html">Primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data%20Products.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mode%20of%20Pipelines.html">Modes of Pipeline Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="Versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Updating%20Documentation.html">Updating Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Updating%20Documentation.html#updating-text">Updating text</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SCALES-DRP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Running the <strong>SCALES-DRP</strong> Pipeline</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Running the SCALES-DRP Pipeline.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="running-the-scales-drp-pipeline">
<h1>Running the <strong>SCALES-DRP</strong> Pipeline<a class="headerlink" href="#running-the-scales-drp-pipeline" title="Link to this heading"></a></h1>
<p>The DRP is run using a startup script that offers several
command line options and different execution modes for each mode of analysis.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>DRP can exicute only <strong>ONE</strong> model of data reduction at a time. So the user has to
specify if the mode of operation is <code class="docutils literal notranslate"><span class="pre">LOWRES</span></code>, <code class="docutils literal notranslate"><span class="pre">MEDRES</span></code> or   <code class="docutils literal notranslate"><span class="pre">imaging</span></code>.</p>
</div>
<section id="process-files-file-lists-and-entire-directories">
<h2>Process files, file lists and entire directories<a class="headerlink" href="#process-files-file-lists-and-entire-directories" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>To reduce all LOWRES channel files in a directory in the order in which they
appear and group them correctly according to the logical sequence needed by
the pipeline:</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>start_scales_reduce<span class="w"> </span>-lr<span class="w"> </span>-f<span class="w"> </span>*.fits<span class="w"> </span>-g
</pre></div>
</div>
<ul class="simple">
<li><p>The corresponding MEDRES channel command would be:</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>start_scales_reduce<span class="w"> </span>-mr<span class="w"> </span>-f<span class="w"> </span>*.fits<span class="w"> </span>-g
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">-lr</span></code> or <code class="docutils literal notranslate"><span class="pre">-mr</span></code> specifies the low-resolution or medium resolution mode,
<code class="docutils literal notranslate"><span class="pre">-f</span></code> specifies file input and is followed by a file specification, and <code class="docutils literal notranslate"><span class="pre">-g</span></code>
specifies group mode, which will group images according to what is needed by the pipeline.</p>
<ul class="simple">
<li><p>To reduce only a subset of the files (for example, a single object out of an
entire observing run):</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>start_scales_reduce<span class="w"> </span>-lr<span class="w"> </span>-l<span class="w"> </span>input_files.lst
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">-l</span></code> specifies list input mode followed by a file with a list of raw
image files for, in this case, the LOWRES mode (as indicated by the <code class="docutils literal notranslate"><span class="pre">-lr</span></code>
parameter), one per line in the file.</p>
<ul class="simple">
<li><p>To reduce a single file:</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>start_scales_reduce<span class="w"> </span>-lr<span class="w"> </span>-f<span class="w"> </span>filename.fits
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please note that all the preliminary calibration files needed to be reduced and
avaialable in the data directory before reducing a science frame for all the exicution mode.</p>
</div>
</section>
<section id="other-command-line-options">
<h2>Other command line options<a class="headerlink" href="#other-command-line-options" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">config_file.cfg</span></code>  This options overrides the standard configuration
file that is stored in the installation directory in
<code class="docutils literal notranslate"><span class="pre">kcwidrp/config/kcwi.cfg</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--write_config</span></code> If this option is set, an editable copy of the default DRP
configuration file is written to wherever the command was invoked from. This
file can then be used to modify the behavior of the pipeline using the <code class="docutils literal notranslate"><span class="pre">-c</span></code>
option.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-k</span></code> or <code class="docutils literal notranslate"><span class="pre">--skipsky</span></code>  Set this to skip sky subtraction for all frames
reduced with this command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">proctable.proc</span></code>  When the DRP runs, it keeps track of the files
processed using a processing table. Normally that table is called
<code class="docutils literal notranslate"><span class="pre">scales_lr.proc</span></code> for the LOWRES mode and <code class="docutils literal notranslate"><span class="pre">scales_mr.proc</span></code> for the MEDRES mode
and is stored in the current directory. This options is used to
specify a different file if needed (not recommended).</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Configuration%20Parameters.html" class="btn btn-neutral float-left" title="Configuration Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Primitives.html" class="btn btn-neutral float-right" title="Primitives" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, The SCALES Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>